package thrift

import (
	"context"

	"go.uber.org/thriftrw/envelope/stream"
	pstream "go.uber.org/thriftrw/protocol/stream"
	"go.uber.org/yarpc"
	"go.uber.org/yarpc/api/transport"
)

// StreamClient is a generic Thrift client. It speaks in raw Thrift payloads.
//
// Users should use the client generated by the code generator rather than
// using this directly.
type StreamClient interface {
	// Call the given Thrift method.
	Call(ctx context.Context, reqBody stream.Enveloper, opts ...yarpc.CallOption) (pstream.Reader, error)
	CallOneway(ctx context.Context, reqBody stream.Enveloper, opts ...yarpc.CallOption) (transport.Ack, error)
}
